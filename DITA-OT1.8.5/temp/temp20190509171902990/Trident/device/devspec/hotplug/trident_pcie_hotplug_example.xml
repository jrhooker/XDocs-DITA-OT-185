<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\temp\temp20190509171902990\Trident\device\devspec\hotplug?><?workdir-uri file:/C:/Git/XDocs-DITA-OT-185/XDocs-DITA-OT-185/DITA-OT1.8.5/temp/temp20190509171902990/Trident/device/devspec/hotplug/?><?path2project ..\?><?path2project-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" ditaarch:DITAArchVersion="1.2" class="- topic/topic " xml:lang="en-US" base="base" id="trident_pcie_hotplug_example" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic struct-d)                            (topic firmware-d)                            (topic pmcrevhis-d)   " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="topic:1;11:27">
   <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:1;14:26">Configuring Hot Plug Example</title>
   <body class="- topic/body " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="body:1;17:24">
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:1;20:21">This example covers the configuration of PCIe Connectors for use in a single partition with two PCIe U.2 NVMe connected EndPoints. The example illustrates how to set the switch configuration file Partition Settings, P2P Bindings, PCIe Connector Settings, GPIO Bindings, GPIO Adapters, and TWI Expander settings.</p>
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:2;23:21">
         <xref href="#fig_Example_topology_for_hot_plug_configurat_0ihpkrlpc" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="xref:1;27:31"><?ditaot gentext?>#fig_Example_topology_for_hot_plug_configurat_0ihpkrlpc</xref> illustrates the configuration of a Switchtec PCIe Storage Switch with a x16 connected host on port 40 (stack 5) and two NVMe U.2 connected drives on Ports 0 and 4 (stack 0). The sideband signals from the U.2 connector are connected to different GPIO expanders on the board. Each GPIO expander is connected to a TWI channel from a TWI Expander, which is connected to device TWI port 4. In this example, bifurcation settings are pre-configured to x16 for the USP (Stack 5) and x4/x4/x4/x4 for the DSP (Stack 0).</p>
      <fig id="fig_Example_topology_for_hot_plug_configurat_0ihpkrlpc" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="fig:1;31:25">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:2;34:32">Example topology for Hotplug configuration</title>
         <image href="graphics/sar_pcie_hotplug_example_topo.svg" width="3.5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="image:1;40:33"/>
      </fig>
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:3;44:22"/>
      <section id="section_Configuring_the_TWI_Expanders_1ihplf6ja" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="section:1;48:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:3;51:32">Configuring the TWI Expanders</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:4;54:24">TWI expanders in the topology need to be defined in the Switchtec configuration file under the <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="i:1;56:27">TWI Expander Settings</i> block. In this case the TWI expander is connected to Switchtec local TWI bus 4 with a slave address of 0xEC. </p>
         <fig id="fig_TWI_Expander_Settings_Block_2ihplf6ja" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="fig:2;60:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:4;63:35">TWI Expander Settings Block</title>
            <image href="graphics/pcie_hotplug_example_twi_exp_settings.png" width="530" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="image:2;69:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:5;73:24"> In <xref href="#fig_TWI_Expander_Settings_Block_2ihplf6ja" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="xref:2;76:34"><?ditaot gentext?>#fig_TWI_Expander_Settings_Block_2ihplf6ja</xref> , TWI Expander Instance #2 is the TWI expander in the example.</p>
      </section>
      <section id="section_Configuring_GPIO_Adapter_Settings_4ihplnwt2" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="section:2;81:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:5;84:32">Configuring GPIO Adapter Settings</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:6;87:24">Once the TWI expander instance is defined, the GPIO adapter can be defined to use it. The <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="i:2;89:27">GPIO Adapter Settings</i> block defines the types of GPIO expanders that are connected to the switch. It is also used to configure the mapping of the GPIO on the expander through the TWI bus connected to the TWI expander.</p>
         <fig id="fig_GPIO_Adapter_Settings_Block_5ihplnwt2" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="fig:3;93:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:6;96:35">GPIO Adapter Settings Block</title>
            <image href="graphics/pcie_hotplug_example_gpio_adapter_settings.png" width="5.5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="image:3;102:36"/>
         </fig>
      </section>
      <section id="section_Configuring_PCIe_Connector_Settings_2ihqubuyy" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="section:3;108:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:7;111:32">Configuring PCIe Connector Settings</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:7;114:24">This block defines the related sideband signals for each type of PCIe connector. Each definition includes a superset of all available sidebands in all connectors, so not every sideband is required for every connector. The connector instance also stores the TWI expander instance from the <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="i:3;116:27">TWI Expander Settings</i> block. In this section, the user will bind PCIe connector sidebands to GPIO pins on the adapters which were defined previously.</p>
         <note class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="note:1;119:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:8;122:27">PCIe connectors are agnostic to direction but the behavior of some pins (such as PERSTB) will change depending if connector is bound to a USP port or DSP port. Ensure PERST# is defined as an INPUT, when binding USPs to PCIe connectors.</p>
         </note>
         <fig id="fig_PCIe_Connector_Settings_Block_3ihqubuyy" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="fig:4;127:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:8;130:35">PCIe Connector Settings Block</title>
            <image href="pcie_connector0.PNG" width="443" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="image:4;136:36"/>
         </fig>
      </section>
      <section id="section_Configuring_the_PCIe_Function_Binding_Se_0ihqv70rj" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="section:4;142:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:9;145:32">Binding PCIe Connectors to Physical Ports</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:9;148:24">Once the PCIe connectors are defined they can be bound to physical ports in the switch in the <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="i:4;150:27">Physical Port Settings</i> block. It is not required to define a PCIe connector for every physical port on the switch. PCIe connectors are only required if there are associated sidebands for a port that need to be managed by the switch.</p>
         <fig id="fig_PCIe_Function_Instance_Block_1ihqv70rj" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="fig:5;154:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:10;157:36">Physical Port Settings Block</title>
            <image href="graphics/pcie_hotplug_example_pcie_cnctr_binding.png" width="4in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="image:5;163:36"/>
         </fig>
      </section>
      <section id="section_Configuring_the_Partition_Settings_3ihplf6jb" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="section:5;169:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:11;172:33">Configuring the Partition Settings</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:10;175:25">Now it is time to define the switch partition for the topology. In the example the USP is port 40 and the DSPs are on ports 0 and 4. In the Partition Settings block the USP and DSPs can be defined in a table. </p>
         <note pmc_switch="Advanced Encl_mgmt Fanout" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="note:2;179:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:11;182:28">For Dynamic Partitioning, DSPs can be defined here with "Enable on Boot" unchecked so that they become unbound from existing <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="i:5;184:30">shadow P2Ps</i>.</p>
         </note>
         <fig id="fig_Partition_Settings_Block_0ihqvfzjy" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="fig:6;189:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:12;192:36">Partition Settings Block</title>
            <image href="partition_settings2.PNG" width="504" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="image:6;198:36"/>
         </fig>
      </section>
      <section class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="section:6;203:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="title:13;206:33">Summary</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\hotplug\trident_pcie_hotplug_example.xml" xtrc="p:12;209:25">Once all these items are configured, the switch in the example topology is ready for Hot-plug.</p>
      </section>
   </body>
</topic>