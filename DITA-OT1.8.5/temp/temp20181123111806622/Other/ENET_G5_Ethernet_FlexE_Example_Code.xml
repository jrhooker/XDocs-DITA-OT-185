<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\temp\temp20181123111806622\Other?><?workdir-uri file:/C:/Git/XDocs-DITA-OT-185/XDocs-DITA-OT-185/DITA-OT1.8.5/temp/temp20181123111806622/Other/?><?path2project ..\?><?path2project-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="xd_466a5304528edbb3--5ff2ecb8-16539b24ec0--76ef" xml:lang="en-US" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic struct-d)                            (topic firmware-d)                            (topic pmcrevhis-d)                            a(props  sp-version)                            a(props  pmc_switch)                            a(props   pmc_package)                            a(props   pmc_phy)                            a(props   ddr-width)                            a(props   package)                            a(props   fw_package)                            a(props   pcie-drive-ports )                            a(props   pcie-host-ports)                            a(props   raid-support )                            a(props   sas-ports )                             a(props   media)                            a(props   component)   " class="- topic/topic " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="topic:1;2:141">
  <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="title:1;3:10">Ethernet and FlexE Example Code</title>

  <body class="- topic/body " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="body:1;5:9">
    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="p:1;6:8">The following example code can be used to provision a 100GE port.</p>

    <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="codeblock:1;8:16">    UINT32 device_id = 0x6523; 
    UINT32 enet_chnl_id = 0x2000;
    UINT32 serdes_port_id = 0;

    rc = g5_api_enet_prov(device_id,
                                  enet_chnl_id,
                                  serdes_port_id,
                                  G5_SERDES_PIN_MODE_NRZ,   // pin_mode         
                                  G5_ENET_PORT_MODE_100GE,  // mode 
                                  FALSE,                    // serdes_port_only
                                  G5_ENET_FEC_MODE_NONE);</codeblock>

    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="p:2;20:8">The following example code demonstrate how to provision a FlexE group
    on the 6x100G Serdes ports.</p>

    <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="codeblock:2;23:16">   UINT32 device_id = 0x6523; 
   UINT32 flexe_group_chnl_id = 0x3000;
   UINT32 flexe_group_number_tx = 0x555;  
   UINT32 flexe_group_number_rx = 0x555;

   rc = g5_api_flexe_group_prov(device_id,
                                flexe_group_chnl_id,
                                G5_FLEXE_MODE_PHY_TERM,
                                flexe_group_number_tx,
                                flexe_group_number_rx,
                                G5_FLEXE_CALENDAR_STATIC_MODE);
    MSCC_ASSERT(MSCC_SUCCESS == rc, 0);

    UINT32 phy_chnl_id = 0x100;
    UINT32 serdes_port_id = 48;  // Bank 2, SHI 0, Lane 0

    for (UINT32 i = 0; i &lt; 6 &amp;&amp; MSCC_SUCCESS == rc; i++)
    {
        rc = g5_api_flexe_phy_add(device_id,
                                  phy_chnl_id + i,
                                  serdes_port_id + (4 * i),  
                                  flexe_group_chnl_id,
                                  i+1, // tx_flexe_phy_number
                                  0,   // tx_num_unavailable_slots
                                  i+1, // rx_flexe_phy_number,
                                  0,   // rx_num_unavailable_slots,
                                  G5_SERDES_PIN_MODE_PAM4_ADJ,
                                  G5_ENET_FEC_MODE_NONE);

        MSCC_ASSERT(MSCC_SUCCESS == rc, 0);
    }

    rc = g5_api_flexe_group_config(device_id,
                                   flexe_group_chnl_id);
    MSCC_ASSERT(MSCC_SUCCESS == rc, 0);</codeblock>

    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="p:3;59:8">The following code demonstrate how to provision a 50G FlexE client
    which uses 10 calendar slots of logical PHY 0.</p>

    <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="codeblock:3;62:16">     UINT32 device_id = 0x6523; 
     UINT32 flexe_client_chnl_id = 0x100;
     UINT32 flexe_group_chnl_id = 0x3000;

     rc = g5_api_flexe_client_prov(device_id,
                                   flexe_client_chnl_id,
                                   flexe_group_chnl_id,
                                   LAST_G5_ODUK_MAPPING_MODE,
                                   1,        // tx_flexe_client_number
                                   0x3FF,    // phy_tx_client_slots_1
                                   0,        // phy_tx_client_slots_2
                                   0,        // phy_tx_client_slots_3
                                   0,        // phy_tx_client_slots_4
                                   0,        // phy_tx_client_slots_4
                                   0,        // phy_tx_client_slots_6
                                   1,        // rx_flexe_client_number
                                   0x3FF,    // phy_rx_client_slots_1
                                   0,        // phy_rx_client_slots_2
                                   0,        // phy_rx_client_slots_3
                                   0,        // phy_rx_client_slots_4
                                   0,        // phy_rx_client_slots_4
                                   0);       // phy_rx_client_slots_6</codeblock>

    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="p:4;85:8">The following example code can be used to de-provision an ENET
    port.</p>

    <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\ENET_G5_Ethernet_FlexE_Example_Code.xml" xtrc="codeblock:4;88:16">    rc = g5_api_deprov(device_id, enet_chnl_id, G5_DEPROV_SEGMENT);</codeblock>
  </body>
</topic>