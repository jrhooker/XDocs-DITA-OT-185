<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\temp\temp20190509171902990\Trident\device\devspec\error_handling?><?workdir-uri file:/C:/Git/XDocs-DITA-OT-185/XDocs-DITA-OT-185/DITA-OT1.8.5/temp/temp20190509171902990/Trident/device/devspec/error_handling/?><?path2project ..\?><?path2project-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" ditaarch:DITAArchVersion="1.2" class="- topic/topic " xml:lang="en-US" base="base" id="xd_d3b8a21dc0006870--4175b2bf-15fea5042d3--7d5d" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic struct-d)                            (topic firmware-d)                            (topic pmcrevhis-d)   " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="topic:1;11:27">
   <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="title:1;14:26">NVMe Drive Cache Flush</title>
   <body class="- topic/body " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="body:1;17:24">
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="p:1;20:21">When NVMe devices are reading and writing data from/to the host, a cache within the device is used to store in-transit data. In the event of a power loss, this data can be lost. The NVMe Cache flush feature exists to allow the switch to detect, in advance, an impending power loss event and "flush" NVMe cache data back to the non-volatile storage.To achieve this, the switch utilizes a feature in the NVMe specification which is normally used by hosts to flush volatile data on an NVMe to no non-volatile storage.</p>
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="p:2;23:21">In the event of an impending power loss, the switch can generate a MemWr TLP to all Cache Flush Capable NVMe EPs to trigger the cache flush event. The event is triggered by an on-chip GPIO (the GPIO must be on-chip to ensure minimal delay from assertion to reaction). Since power loss events are so quick, Switchtec is only able to trigger the cache flush but will not have sufficient time to verify that the flush is completed successfully. Switchtec can typically complete a cache flush sequence within 500Âµs of the power loss indication.</p>
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="p:3;26:21">When a host configures BAR 0/1 of each NVMe Endpoint, the switch maintains a copy of the BAR address. The NVMe standard defines an offset and a value field for SHN. Switchtec makes both the offset and value programmable per-port to be maximally flexible to evolving NVMe standards.</p>
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="p:4;29:21">The <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="i:1;31:24">power loss indicator</i> GPIO pin is global setting for all partitions in Switchtec as multiple partitions in the same enclosure shall share the same power, so this field is defined in <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\error_handling\trident_error_handling_nvme_cache_flush.xml" xtrc="i:2;33:24">Switch Management block</i> in configuration file.</p>
   </body>
</topic>