<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\temp\temp20190509171902990\Trident\device\devspec\partitions?><?workdir-uri file:/C:/Git/XDocs-DITA-OT-185/XDocs-DITA-OT-185/DITA-OT1.8.5/temp/temp20190509171902990/Trident/device/devspec/partitions/?><?path2project ..\?><?path2project-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" ditaarch:DITAArchVersion="1.2" class="- topic/topic " xml:lang="en-US" base="base" id="dynamic_port_migration" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic struct-d)                            (topic firmware-d)                            (topic pmcrevhis-d)   " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="topic:1;11:27">
   <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:1;14:26">Example - Dynamic Port Migration</title>
   <body class="- topic/body " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="body:1;17:24">
      <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:1;21:27">
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:1;24:24">Content sourced from Saratoga Device Specification - Issue 12</p>
      </note>
      <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:2;28:21">One use case of Dynamic Partitioning is to be able to dynamically allocate and re-allocate ports to P2P Bridge Functions (port migration). SwitchTec supports Dynamic Port Migration through a concept called the <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="i:1;30:24">Shadow P2P</i>.</p>
      <section id="section_The_Problem_0ihmm8t4b" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="section:1;34:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:2;37:32">Problem Use Case</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:3;40:24">In a pooled resource architecture, the key challenge is properly disconnecting resources from one topology and dynamically adding to another with minimal impact to the connected systems. This concept is illustrated in <xref href="#dynamic_port_migration/fig_Pooled_compute_storage_architecture_1ihmm8t4b" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:1;43:33" type="fig"><?ditaot gentext?>Figure 1</xref>. For the purposes of illustrating the challenges, pooled NVMe and compute is used as the example, however any pooled resource that is PCIe connected can be substituted here.</p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:2;47:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:4;50:27">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:2;54:36"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-9)</p>
         </note>
         <fig id="fig_Pooled_compute_storage_architecture_1ihmm8t4b" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:1;59:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:3;62:35">Pooled compute/storage architecture</title>
            <image href="graphics/dynamic_partitioning_pooled_storage_v2.svg" width="4in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:1;68:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:5;72:24">In this type of architecture, when a host boots it will enumerate all real devices attached to the switch. Each port of the switch is 1:1 mapped to a P2P bridge function. When a host enumerates, all P2P bridge functions are enumerated regardless of whether a real Endpoint is connected. </p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:3;76:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:6;79:27">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:3;83:36"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-1)</p>
         </note>
         <fig id="fig_Conventional_switch_bridge_function_to_p_2ihmm8t4b" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:2;88:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:4;91:35">Conventional switch bridge function to port mapping</title>
            <image href="graphics/dynamic_partitioning_conventional_switch.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:2;97:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:7;101:24">In <xref href="#dynamic_port_migration/fig_Conventional_switch_bridge_function_to_p_2ihmm8t4b" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:4;104:33" type="fig"><?ditaot gentext?>Figure 2</xref> the orange and green hosts are connected to two partitions on the switch and each partition has an unconnected P2P bridge function. This allows for the addition of a single Endpoint to each host. However, in a pooled storage and compute architecture, any host could conceivably demand none of the storage and up to all of the storage. </p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:4;108:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:8;111:27">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:5;115:36"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-2)</p>
         </note>
         <fig id="fig_Fully_allocated_conventional_switch_3ihmm8t4b" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:3;120:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:5;123:35">Fully allocated conventional switch</title>
            <image href="graphics/dynamic_partitioning_fully_allocated_conventional.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:3;129:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:9;133:24">In <xref href="#dynamic_port_migration/fig_Fully_allocated_conventional_switch_3ihmm8t4b" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:6;136:33" type="fig"><?ditaot gentext?>Figure 3</xref> there is a switch with fully allocated ports. The orange host has run out of capacity while the green host has excess capacity (green drive). Ideally the system would dynamically re-allocate the spare drive to the orange host to satisfy its storage needs. In a conventional switch, the partition configuration could be changed to include this spare (green) drive into the orange host partition. However, this effectively makes a P2P Bridge function "appear out of thin air" (see <xref href="#dynamic_port_migration/fig_P2P_appears_out_of_thin_air_8ihmmkgd3" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:7;139:33" type="fig"><?ditaot gentext?>Figure 4</xref> ). Since the orange host has never accounted for this new P2P bridge function, it has not allocated sufficient resources to support the new Endpoint. </p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:5;143:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:10;146:28">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:8;150:36"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-4)</p>
         </note>
         <fig id="fig_P2P_appears_out_of_thin_air_8ihmmkgd3" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:4;155:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:6;158:35">P2P bridge appears out of thin air</title>
            <image href="graphics/dynamic_partitioning_p2p_thin_air.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:4;164:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:11;168:25">In addition to the new P2P binding function on the orange host, the P2P binding function that was previously connected to the green host suddenly disappears which may have consequences at the system level.</p>
      </section>
      <section id="section_The_solution_Shadow_P2P_4ihmm8t4b" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="section:2;173:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:7;176:32">The solution: Shadow P2P Bridge</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:12;179:25">Switchtec breaks the 1:1 mapping between physical ports and P2P binding functions by introducing the concept of <i class="+ topic/ph hi-d/i " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="i:2;181:27">Shadow P2Ps</i>. Shadow P2Ps are logical entities inside the Switchtec firmware which can be configured in the switch at boot time. Switchtec introduces a mapping layer to connect physical ports to P2P binding functions. P2P function bindings that are bound to physical ports are considered real P2Ps. P2P binding functions that are unbound to physical ports are considered Shadow P2Ps. </p>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:13;184:25">This abstraction of physical ports and P2Ps allows Switchtec to represent an entire virtual topology to a host at boot-time. This allows the host to properly allocate resources for the full topology regardless of how many physical Endpoints are actually connected. </p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:6;188:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:14;191:28">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:9;195:36"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-5)</p>
         </note>
         <fig id="fig_Switchtec_shadow_P2P_concept_7ihmmc2kv" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:5;200:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:8;203:35">Switchtec shadow P2P concept</title>
            <image href="graphics/dynamic_partitioning_switchtec_switch.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:5;209:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:15;213:25">In<xref href="#dynamic_port_migration/fig_Switchtec_shadow_P2P_concept_7ihmmc2kv" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:10;216:34" type="fig"><?ditaot gentext?>Figure 5</xref>, the orange host has two ports connected to the orange SSDs and three shadow P2Ps which are not bound to physical ports. The green host has three ports connected to SSDs and two shadow P2Ps that are unbound to physical ports. The switch only has five ports but each host in all partitions sees the entire potential 5-port topology. Switchtec controls the binding of physical ports to P2P function bindings. </p>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:16;219:25">In the example of a fully allocated conventional switch where the orange host has run out of capacity (illustrated in <xref href="#dynamic_port_migration/fig_Fully_allocated_conventional_switch_3ihmm8t4b" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:11;222:34" type="fig"><?ditaot gentext?>Figure 3</xref>), a Switchtec switch can unbind a drive from the green host and rebind it to the orange host seamlessly. The Endpoint itself does not need to be physically moved. </p>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:17;225:25">Unbinding of the drive appears as a managed hot remove operation to the green host with all associated hot removal signaling generated by Switchtec firmware. To the green host, it appears that a drive is physically removed from the port connected to the P2P binding function. <xref href="#dynamic_port_migration/fig_Unbinding_of_an_endpoint_appears_as_a_ma_5ihmm8t4b" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:12;228:34" type="fig"><?ditaot gentext?>Figure 6</xref> illustrates this concept.</p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:7;232:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:18;235:28">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:13;239:37"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-7)</p>
         </note>
         <fig id="fig_Unbinding_of_an_endpoint_appears_as_a_ma_5ihmm8t4b" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:6;244:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:9;247:35">Unbinding of an Endpoint appears as a managed hot remove</title>
            <image href="graphics/dynamic_partitioning_unbind_port.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:6;253:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:19;257:25">This mechanism allows the green host to gracefully clean up resources at the OS and NVMe driver level. When the drive is then bound to the orange host P2P binding function, the host will receive a managed hot add event as if a drive was Hotplugged into its unused port. Since the BIOS/OS/Host enumerated the topology with the shadow P2P, the hot add of the device is supported natively at the BIOS, OS, and driver level. <xref href="#dynamic_port_migration/fig_Binding_of_an_endpoint_appears_as_a_mana_6ihmm8t4b" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:14;260:34" type="fig"><?ditaot gentext?>Figure 7</xref> illustrates this concept.</p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:8;264:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:20;267:28">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:15;271:37"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-8)</p>
         </note>
         <fig id="fig_Binding_of_an_endpoint_appears_as_a_mana_6ihmm8t4b" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:7;276:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:10;279:36">Binding of an Endpoint appears as a managed hot add</title>
            <image href="graphics/dynamic_partitioning_bind_port.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:7;285:36"/>
         </fig>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:21;289:25">Each host sees a switch with up to five downstream ports where a user can add and remove drives as needed. Each host has no idea that the switch itself only has a total of five physical ports that are shared between the two hosts. This mapping layer provides the system architecture with the capability to dynamically allocate resources with minimal impact to the system.</p>
      </section>
      <section id="section_Other_applications_0ihz6ztbp" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="section:3;294:33">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:11;297:33">Other applications</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:22;300:25">The concept of shadow P2P binding functions has additional applications for Switchtec. Pooled storage/compute is the one discussed in this section, however the ability to map and remap physical ports to P2P binding functions can also be used for host fail over. In this situation, a secondary host has full P2P visibility of every Endpoint in the system and when it stops receiving a heartbeat from the main host, the switch can dynamically unbind all Endpoints on the failing host and rebind them to the backup host.</p>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:23;303:25"> 
            <xref href="#dynamic_port_migration/fig_Host_to_host_fail_over_example_before_ho_1ihz6ztbp" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:16;307:34" type="fig"><?ditaot gentext?>Figure 8</xref> and<xref href="#dynamic_port_migration/fig_Host_to_host_fail_over_example_after_hos_2ihz6ztbp" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:17;310:34" type="fig"><?ditaot gentext?>Figure 9</xref> illustrate a dual host, two partition setup where each host has access to two drives. When the orange host fails, the green host can dynamically repartition the switch and move the drives on the orange host to the green host's partition. </p>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:9;314:30">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:24;317:28">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:18;321:37"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-11)</p>
         </note>
         <fig id="fig_Host_to_host_fail_over_example_before_ho_1ihz6ztbp" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:8;326:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:12;329:36">Host to host fail over example (before host failure)</title>
            <image href="graphics/dynamic_partitioning_host_host_failover_before.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:8;335:36"/>
         </fig>
         <note audience="MSCCInternal" class="- topic/note " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="note:10;340:31">
            <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="p:25;343:28">Source graphics: <xref href="http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731" scope="external" class="- topic/xref " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="xref:19;347:37"><?ditaot usertext?>http://bby1dms01.pmc-sierra.internal/DocMgmt/fileinfo.cfm?file_id=437731</xref> (Page-12)</p>
         </note>
         <fig id="fig_Host_to_host_fail_over_example_after_hos_2ihz6ztbp" class="- topic/fig " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="fig:9;352:28">
            <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="title:13;355:36">Host to host fail over example (after host failure)</title>
            <image href="graphics/dynamic_partitioning_host_host_failover_after.svg" width="5in" placement="inline" class="- topic/image " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\partitions\trident_dynamic_partitioning_example_port_migration.xml" xtrc="image:9;361:36"/>
         </fig>
      </section>
   </body>
</topic>