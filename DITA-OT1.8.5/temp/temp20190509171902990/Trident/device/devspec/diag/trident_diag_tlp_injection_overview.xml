<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\temp\temp20190509171902990\Trident\device\devspec\diag?><?workdir-uri file:/C:/Git/XDocs-DITA-OT-185/XDocs-DITA-OT-185/DITA-OT1.8.5/temp/temp20190509171902990/Trident/device/devspec/diag/?><?path2project ..\?><?path2project-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" ditaarch:DITAArchVersion="1.2" class="- topic/topic " xml:lang="en-US" base="base" id="xd_4ccb95b84dca99bd--57378f19-167a36c394b--7a0e" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic struct-d)                            (topic firmware-d)                            (topic pmcrevhis-d)   " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="topic:1;10:468">
   <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="title:1;13:26">TLP Injection</title>
   <body class="- topic/body " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="body:1;16:32">
      <p class="- topic/p " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:1;20:29">Switchtec provides a raw TLP injection capability which is accessible via MRPC.</p>
      <section audience="PMCInternal" class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="section:1;24:41">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="title:2;27:32">Using TLP injection via the CLI</title>
         <p class="- topic/p " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:2;31:32">The raw TLP injection feature calls PPU APIs to inject a TLP into PCI Express system. User should manually input TLP Header, Payload data and the destination port as well. If ECRC is required, user can enable it.</p>
         <p class="- topic/p " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:3;35:32">
            <b otherprops="bold" class="+ topic/ph hi-d/b " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="b:1;39:27">Command Line:</b>
         </p>
         <ol class="- topic/ol " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="ol:1;43:34">
            <li class="- topic/li " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="li:1;46:37">Setup TLP Header and destination port<p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:4;48:38">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="changed" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:1;52:45">rawtlptx -setup &lt;dest_prt[0-55]&gt; &lt;+[[sideband_ch_id[0-0xf]&gt; &lt;]]+TLP_TYPE(0:P|1:NP|2:CP)&gt; &lt;HDR_TYPE(0:3DW|1:4DW)&gt; &lt;ecrc_enable(0:disable|1:enable)&gt; &lt;HDR1 ...HDR4&gt;</cmdname> 
               </p>
               <p class="- topic/p " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:5;57:38">&lt;dest_prt[0-55]&gt; indicates the destination port of this TLP.</p>
               <p class="- topic/p " rev="deltaxml-add" status="new" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:6;62:32">&lt;sideband_ch_id[0-0xf]&gt; It is only used when dest_prt is 52-54, in which TLPs will be received and handled by Firmware. It is only for internal debug use. Customers can just set it to be 0 if the TLPs are forwarded to external port.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:7;65:30">&lt;TLP_TYPE(0:P|1:NP|2:CP)&gt; indicates the type of input TLP. Input value should fit Format and Type fields of user-defined header.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:8;68:30">&lt;HDR_TYPE(0:3DW|1:4DW)&gt; indicates header size of input TLP. Input value should be identify with user-defined TLP header.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:9;71:30">&lt;ecrc_enable(0:disable|1:enable)&gt; specifies if ECRC is enabled. If ECRC is enabled, TD bit in user-defined TLP header should be set.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:10;74:31">&lt;HDR1 ...HDR4&gt; is the user-defined TLP header. If TLP header size is 3DWs, user has to input 3 DWs data.</p>
            </li>
            <li class="- topic/li " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="li:2;78:37">Setup TLP Payload<p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:11;80:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:2;84:47">rawtlptx -payload &lt;payload_type(0:new|1:append)&gt; &lt;payload_len&gt; &lt;PAYLOAD DW1 ... DW8&gt;</cmdname> 
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:12;88:31">&lt;payload_type(0:new|1:append)&gt; is the payload input type. 0 means input data of this command is for a new TLP. 1 means input data is append to last payload input and is for the same TLP.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:13;91:31">&lt;payload_len&gt; is the length of input data in DW size of this command. It should not exceed 8 DWs.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:14;94:31">&lt;PAYLOAD DW1 ... DW8&gt; is the input payload data.</p>
            </li>
            <li class="- topic/li " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="li:3;98:29">Send TLP<p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:15;100:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:3;104:47">rawtlptx -trigger</cmdname>
               </p>
            </li>
         </ol>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:16;110:25">
            <b otherprops="bold" class="+ topic/ph hi-d/b " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="b:2;115:35">Example:</b>
         </p>
         <ol class="- topic/ol " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="ol:2;119:34">
            <li class="- topic/li " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="li:4;122:37">Send a MWR64 TLP with 2 DWs payload to destination port 50<p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:17;124:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:4;128:47">rawtlptx -setup 50 0 1 0 0x02000060 0xff000000 0x00000010 0x040000ff</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:18;132:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:5;136:47">rawtlptx -payload 0 1 0x11223344</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:19;140:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:6;144:47">rawtlptx -payload 1 1 0x55667788</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:20;148:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:7;152:47">rawtlptx -trigger</cmdname>
               </p>
            </li>
            <li class="- topic/li " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="li:5;157:29">Send a CFGWR0 TLP to destination port 49 with ECRC enabled<p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:21;159:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:8;163:47">rawtlptx -setup 49 1 0 1 0x01800044 0x0f000000 0x04000000</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:22;167:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:9;171:47">rawtlptx -payload 0 1 0x12345678</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:23;175:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:10;179:47">rawtlptx -trigger</cmdname>
               </p>
            </li>
            <li class="- topic/li " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="li:6;184:37">Send an MWr64 TLP with error ECRC to port 40<p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:24;186:31">This is an example to use FW method to send a TLP with error ECRC. User would not enable ECRC but would input the ECRC DW through the payload input command. In this example “0xdeaddead” is the error ECRC DW. Please note to set the TD bit in TLP header.</p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:25;189:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:11;193:47">rawtlptx -setup 40 0 1 0 0x02800060 0xff000000 0x00000010 0x040000ff</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:26;197:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:12;201:47">rawtlptx -payload 0 3 0x11223344 0x55667788 0xdeaddead</cmdname>
               </p>
               <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:27;205:31">
                  <cmdname class="+ topic/keyword sw-d/cmdname " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="cmdname:13;209:47">rawtlptx -trigger</cmdname>
               </p>
            </li>
         </ol>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:28;215:26"/>
      </section>
      <section class="- topic/section " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="section:2;219:41">
         <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="title:3;222:32">Using TLP injection with MRPC</title>
         <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="p:29;225:25">TLP injection is configurable and executable via MRPC. Please see <xref href="../../../../Saratoga/Saratoga_Configuration/Topic/MRPC_13_TLPInject.xml" class="- topic/xref " status="unchanged" xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\diffed\_b-0-file-\Trident\device\devspec\diag\trident_diag_tlp_injection_overview.xml" xtrc="xref:1;229:39" type="topic"><?ditaot gentext?>TLP Injection Command</xref> for more details.</p>
      </section>
   </body>
</topic>