<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\temp\temp20181123111806622\Other?><?workdir-uri file:/C:/Git/XDocs-DITA-OT-185/XDocs-DITA-OT-185/DITA-OT1.8.5/temp/temp20181123111806622/Other/?><?path2project ..\?><?path2project-uri ../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="Host_Shared_Memory_Requirements_biu913pm6" xml:lang="en-US" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic struct-d)                            (topic firmware-d)                            (topic pmcrevhis-d)                            a(props  sp-version)                            a(props  pmc_switch)                            a(props   pmc_package)                            a(props   pmc_phy)                            a(props   ddr-width)                            a(props   package)                            a(props   fw_package)                            a(props   pcie-drive-ports )                            a(props   pcie-host-ports)                            a(props   raid-support )                            a(props   sas-ports )                             a(props   media)                            a(props   component)   " class="- topic/topic " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="topic:1;2:135">
  <title class="- topic/title " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="title:1;3:10">Host Shared Memory Requirements</title>

  <body class="- topic/body " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="body:1;5:9">
    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="p:1;6:8">Shared memory between the control plane processor and the device allows
    for the most efficient transfer mechanism for configuration and
    interrupt/PMON gathering. The device requires access to host shared memory
    via the PCIe link for logging, data transfers such as interrupt/PMON
    gathering and firmware downloads, as well as SDK firmware/software
    communication mechanisms.</p>

    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="p:2;13:8">The requirement for this memory is that it be accessible by the device
    across the PCIe bus. Ultimately within the Host CPU RTOS/OS there also
    needs to be the ability to allocate physically contiguous locked memory
    blocks and map these to physical PCIe addresses that can be passed to the
    device for configuration of the PCIe endpoint outbound address translation
    windows.</p>

    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="p:3;20:8">A shared memory space of at least 16 MB per device managed by the
    control plane processor is required.</p>

    <p audience="MSCCInternal" class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="p:4;23:32">INTERNAL NOTE: Wanting to document required
    shared memory size, but this is not well defined yet. Device PCIe outbound
    max window size is 128MB, but for customers with multiple DIGIs large
    requirements would eat up lots of host memory (for example 32 * 128MB =
    4GB). ByronW noted G4 presently at 4MB, or maybe 8MB shared memory size;
    16MB for G5 would be great for enabling simple large firmware download
    using GDMA to transfer from host shared memory, and any as much space for
    logging as possible is welcome.</p>

    <p class="- topic/p " xtrf="C:\Git\XDocs-DITA-OT-185\XDocs-DITA-OT-185\DITA-OT1.8.5\samples\digi\Other\Host_Shared_Memory_Requirements_biu913pm6.xml" xtrc="p:5;32:8">For systems that do not have cache coherent memory, the host must be
    able to manage coherency of its cache and the shared memory using software
    cache clean and invalidate operations. After the device firmware has
    written to host shared memory (for example, during PMON transfers), the
    relevant portion of the cache must be invalidated by the host to ensure
    coherent reading of the updated shared memory. After software prepares a
    message in host memory to be executed by firmware, the relevant portion of
    the cache must be cleaned by the host to ensure any dirty cache data is
    transferred from the cache to host shared memory prior to the device
    reading shared memory.</p>
  </body>
</topic>