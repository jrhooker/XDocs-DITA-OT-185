<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA 1.2 Topic//EN" "/SysSchema/dita/dtd/technicalContent/dtd/topic.dtd">
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" base="Morristown" id="topic_Firmware_Debugging_in_Simulation_3j7gegegf" xml:lang="en-US">
  <title>Firmware Debugging in Hardware</title>

  <body>
    <p>This section describes the procedure to create the Database
    Configuration, Hardware Debug Configuration and Trace Configuration</p>

    <p/>
  </body>

  <topic id="topic_Run_the_Archsim_4j7gg4x63">
    <title>Database Configuration</title>

    <body>
      <p>Steps to create Database Configuration</p>

      <ol>
        <li><p>In DS-5, right-click in the project explorer window and select
        "Configuration Database as shown below</p><fig>
            <title>Database Configuration</title>

            <image href="../Graphics/Database_Configuration_Step _1.png" width="267"/>
          </fig></li>

        <li><p>Enter the database name of your choice in the text box and
        click "Finish"</p><fig>
            <title>Database name</title>

            <image href="../Graphics/Database_Configuration_Step _2.png" width="335"/>
          </fig></li>

        <li><p>Again right-click in the project explorer, and select "Platform
        Configuration" as shown below</p><fig>
            <title>Platform configuration</title>

            <image href="../Graphics/Database_Configuration_Step _3.png" width="377"/>
          </fig></li>

        <li><p>Select "Automatic/Simple platform detection (Recommended)" in
        "Create Platform Configuration" and click "Next"</p><fig>
            <title>Platform configuration options</title>

            <image href="../Graphics/Database_Configuration_Step _4.png" width="395"/>
          </fig></li>

        <li><p>Select DStream device connected to your Linux host machine, and
        click "Next" to connect to the device</p><fig>
            <title>DStream selection</title>

            <image href="../Graphics/Database_Configuration_Step _5.png" width="389"/>
          </fig></li>

        <li><p>Select "Save a Debug and Trace DS-5 Platform Configuration" and
        click "Next"</p><fig>
            <title>Platform configuration save options</title>

            <image href="../Graphics/Database_Configuration_Step _6.png" width="390"/>
          </fig></li>

        <li><p>Enter the platform manufacturer name and platform name in the
        text box as shown below</p><fig>
            <title>Platform information</title>

            <image href="../Graphics/Database_Configuration_Step _7.png" width="362"/>
          </fig></li>

        <li><p>To remove the duplicate connections generated by the
        auto-detect,</p><p>Open the *.sdf file for the current
        platform</p><p>Open the component connections tab under
        devices</p><p>Remove the following device types</p><p>Save the
        platform file by selecting "Save" from "File" menu</p><fig>
            <title>Remove devices</title>

            <image href="../Graphics/Database_Configuration_Step _8.png" width="394"/>
          </fig></li>
      </ol>
    </body>
  </topic>

  <topic id="topic_Run_the_Firmware_5j7gg55je">
    <title>Hardware Debug Configuration</title>

    <body>
      <p>Steps to configure the hardware debug configuration</p>

      <ul>
        <li><p>In "Debug Perspective", right-click in "Debug Control" and
        select "Debug Configuration"</p><fig>
            <title>Debug Configuration</title>

            <image href="../Graphics/Debug_Configuration_Step_1.png" width="380"/>
          </fig></li>

        <li><p>Right-click on "DS-5 Debugger" and select "New"</p><fig>
            <title>DS-5 debugger</title>

            <image href="../Graphics/Debug_Configuration_Step_2.png" width="385"/>
          </fig></li>

        <li><p>Add name to the "Debug Configuration" in the "Name" field as
        shown below</p><fig>
            <title>Debug configuration name</title>

            <image href="../Graphics/Debug_Configuration_Step_3.png" width="391"/>
          </fig></li>

        <li><p>In the "Connection" tab enter the name of the database created
        (eg., Morristown Platform), and select the target database </p><fig>
            <title>Debugger connection</title>

            <image href="../Graphics/Debug_Configuration_Step_6_1.png" width="385"/>
          </fig></li>

        <li><p>After selecting the database, select "Corex-A53 Multi Cluster
        SMP" under "Bare Metal Debug" </p><fig>
            <title>Processor configuration</title>

            <image href="../Graphics/Debug_Configuration_Step_5.png" width="364"/>
          </fig></li>

        <li><p>Enter DStream ip-address in the connection field</p><fig>
            <title>Debugger ip-address</title>

            <image href="../Graphics/Debug_Configuration_Step_6.png" width="377"/>
          </fig></li>

        <li><p>In the "Files" tab, select "sdk.axf" file in the workspace as
        shown below</p><fig>
            <title>Target configuration</title>

            <image href="../Graphics/Debug_Configuration_Step_7.png" width="392"/>
          </fig></li>

        <li><p>In the "Debugger" tab, do the following</p><p>Select "Debug
        from entry point"</p><p>select "Execute debugger commands"</p><p>In
        the text area, type "c" (this is to continue after launch)</p><fig>
            <title>Debugger configuration settings</title>

            <image href="../Graphics/Debug_Configuration_Step_8.png" width="400"/>
          </fig><p/><p>Click "Apply" and "Debug" to launch the debug
        configuration</p><p/><p/></li>
      </ul>

      <note>Once the debug configuration is created, user can go to the Debug
      Configuration option and select the previously created Debug
      Configuration.</note>
    </body>
  </topic>

  <topic id="topic_Run_the_Hostsim_6j7gg5uwj">
    <title>Trace Configuration</title>

    <body>
      <p>Steps for trace configuration</p>

      <ul>
        <li><p>Right-click on the board folder and select "Build
        Platform"</p><fig>
            <title>Build platform</title>

            <image href="../Graphics/Trace_Configuration_Step_1.png" width="270"/>
          </fig><p/></li>

        <li><p>In the "Debug Configuration", select "Edit" under "DST:L
        Options" as shown below</p><fig>
            <title>DSTL options</title>

            <image href="../Graphics/Trace_Configuration_Step_2.png" width="381"/>
          </fig></li>

        <li><p>In the "Trace Capture" tab, select "On Chip Trace Buffer
        (CSTMC_0/ETF)"</p><fig>
            <title>Trace capture options</title>

            <image href="../Graphics/Trace_Configuration_Step_3.png" width="378"/>
          </fig></li>

        <li><p>In the "Cortex-A53_SMP_0" tab, select "Enable Cortex-A53_SMP_0
        core trace" as shown below</p><p>Select the appropriate cores to be
        traced. </p><p>Repeat the process for the other clusters</p><fig>
            <title>Processor core trace options</title>

            <image href="../Graphics/Trace_Configuration_Step_4.png" width="385"/>
          </fig></li>

        <li><p>"Trace Control" view can be opened to start trace capture, stop
        trace capture and clear trace buffer</p><fig>
            <title>Trace control view</title>

            <image href="../Graphics/Trace_Configuration_Step_5.png" width="373"/>
          </fig></li>

        <li><p>"Trace Window" view will show trace captures as shown
        below</p><fig>
            <title>Trace window view</title>

            <image href="../Graphics/Trace_Configuration_Step_6.png" width="375"/>
          </fig></li>
      </ul>

      <p/>
    </body>
  </topic>
</topic>